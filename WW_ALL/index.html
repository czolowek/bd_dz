<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Школьная База</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    table { border-collapse: collapse; margin: 10px 0; }
    th, td { border: 1px solid #888; padding: 5px 8px; }
  </style>
</head>
<body>
  <h1>Школьная БД</h1>

  <h2>Добавить ученика</h2>
  <form action="/add_person" method="post">
    <input name="first_name" placeholder="Имя" required>
    <input name="last_name" placeholder="Фамилия" required>
    <input name="school_number" placeholder="Номер школы" required>
    <input name="class_number" placeholder="Номер класса" required>
    <input name="address" placeholder="Адрес">
    <button type="submit">Добавить</button>
  </form>

  <h2>Ученики</h2>
  <table>
    <tr><th>ID</th><th>Имя</th><th>Фамилия</th><th>Школа</th><th>Класс</th><th>Адрес</th></tr>
    {% for p in people %}
      <tr>
        <td>{{ p[0] }}</td><td>{{ p[1] }}</td><td>{{ p[2] }}</td>
        <td>{{ p[3] }}</td><td>{{ p[4] }}</td><td>{{ p[5] }}</td>
      </tr>
    {% endfor %}
  </table>

  <h2>Школы</h2>
  <table>
    <tr><th>№</th><th>Название</th><th>Адрес</th></tr>
    {% for s in schools %}
      <tr><td>{{ s[0] }}</td><td>{{ s[1] }}</td><td>{{ s[2] }}</td></tr>
    {% endfor %}
  </table>

  <h2>Классы</h2>
  <table>
    <tr><th>ID</th><th>№ школы</th><th>Название</th><th>Расположение</th></tr>
    {% for c in classes %}
      <tr><td>{{ c[0] }}</td><td>{{ c[1] }}</td><td>{{ c[2] }}</td><td>{{ c[3] }}</td></tr>
    {% endfor %}
  </table>

  <h2>Корзина (товары)</h2>
  <table>
    <tr><th>ID</th><th>Товар</th><th>Цена</th><th>Количество</th><th>Категория</th></tr>
    {% for b in basket %}
      <tr>
        <td>{{ b[0] }}</td><td>{{ b[1] }}</td><td>{{ b[2] }}</td><td>{{ b[3] }}</td><td>{{ b[4] if b|length>4 else '' }}</td>
      </tr>
    {% endfor %}
  </table>

  <h2>SQL Примеры</h2>
  <ul>
    <li>COUNT (учеников в школе 12): {{ results.count }}</li>
    <li>MAX цена: {{ results.max }}</li>
    <li>MIN цена: {{ results.min }}</li>
    <li>INNER JOIN пример: {{ results.inner }}</li>
    <li>OUTER JOIN пример: {{ results.outer }}</li>
    <li>UNION пример: {{ results.union }}</li>
  </ul>
</body>
</html>
